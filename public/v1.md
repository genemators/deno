Dinamik tillar foydali vositalardir. Skriptlash foydalanuvchilarga xotirani
boshqarish yoki tizim yaratish kabi tafsilotlar haqida tashvishlanmasdan
murakkab tizimlarni tez va aniq bir-biriga bog'lab, fikrlarini ifoda etish
imkoniyatini beradi. So'nggi yillarda Rust va Go kabi dasturlash tillari
murakkab mahalliy mashina kodini ishlab chiqarishni ancha osonlashtirdi; ushbu
loyihalar kompyuter infratuzilmasidagi juda muhim ishlanmalardir. Shu bilan
birga, biz muammoli sohalarni keng qamrovli hal qila oladigan kuchli skript
muhitiga ega bo'lish hali ham muhim deb ta'kidlaymiz.

JavaScript bu veb-brauzer yordamida har bir qurilmada ishlaydigan eng ko'p
ishlatiladigan dinamik til. Ko'pgina dasturchilar JavaScript-ni yaxshi bilishadi
va uning ishlashini optimallashtirish uchun ko'p kuch sarflangan. ECMA
International kabi tashkilotlar tomonidan standartlar yaxshilanib borildi va
doimiy ravishda takomillashtirildi. Biz ishonamizki, JavaScript - bu dinamik til
vositasi uchun tabiiy tanlovdir; brauzer muhitida bo'ladimi yoki mustaqil
jarayonmi.

Ushbu sohadagi bizning boshlang'ich tashabbusimiz Node.js juda muvaffaqiyatli
dasturiy platforma bo'ldi. Odamlar bu veb-vositalarni yaratish, mustaqil
veb-serverlarni yaratish va boshqa ko'plab holatlar uchun foydali deb topishdi.
Node, ammo 2009 yilda JavaScript boshqa til bo'lganida yaratilgan. Zarurat
bo'lganda, Node keyinchalik standart tashkilotlar tomonidan qabul qilingan va
tilga boshqacha qo'shilgan tushunchalarni ixtiro qilishga majbur bo'ldi.
[Node-dagi Dizayn xatolarining taqdimotida](https://www.youtube.com/watch?v=M3BM9TB-8yA)
bu batafsilroq muhokama qilinadi. Node foydalanuvchilarining ko'pligi sababli
tizimni rivojlantirish juda qiyin va sekin.

O'zgaruvchan JavaScript tili va TypeScript kabi yangi qo'shimchalar bilan,
qurilish tugunlari loyihalari qurilish tizimlarini boshqarish va dinamik til
skriptlari kulgusidan xalos bo'ladigan boshqa og'ir asboblarni boshqarish bilan
shug'ullanishi mumkin. Bundan tashqari, tashqi kutubxonalarga ulanish mexanizmi
Internetning ideallariga mos bo'lmagan NPM omborxonasi orqali
markazlashtirilgan.

Biz JavaScript-ning landshaftini va uning atrofidagi dasturiy infratuzilmani
soddalashtirishga arzigulik darajada o'zgarganligini his qilamiz. Biz turli xil
vazifalarni bajarish uchun ishlatilishi mumkin bo'lgan qiziqarli va samarali
skript yaratish muhitini qidiramiz.

## Komdalar skripti uchun web brauzer

Deno - bu veb-brauzerdan tashqarida JavaScript va TypeScript-ni bajarish uchun
yangi yordamchi dastur.

Deno murakkab funktsionallikni tezda skript qilish uchun mustaqil vositani
taqdim etishga harakat qiladi. Deno bitta bajariladigan fayl (va har doim
bo'ladi). Veb-brauzer singari, tashqi kodni qanday olish kerakligini biladi.
Denoda bitta fayl boshqa murakkab vositalarsiz o'zboshimchalik bilan murakkab
xatti-harakatlarni belgilashi mumkin.

```ts
import { serve } from "https://deno.uz/std@0.50.0/http/server.ts";

for await (const req of serve({ port: 8000 })) {
  req.respond({ body: "Hello World\n" });
}
```

Bu erda to'liq HTTP server moduli bitta satrda qaramlik sifatida qo'shiladi.
Qo'shimcha konfiguratsiya fayllari yo'q, oldindan bajaradigan o'rnatish mavjud
emas, shunchaki **`deno run example.js`**.

Shuningdek, brauzerlar singari, kod ham standart holatda himoyalangan sinov
muhitida bajariladi. Skriptlar ruxsatsiz qattiq diskka kira olmaydi, tarmoq
ulanishlarini ochishi yoki boshqa zararli harakatlarni amalga oshirishi mumkin
emas. Brauzer kameralar va mikrofonlarga kirish uchun API-ni taqdim etadi, ammo
foydalanuvchilar avval ruxsat berishlari kerak. Deno terminalda xuddi shunday
harakatlarni ta'minlaydi. Yuqoridagi misol `--allow-net` buyruq satri bayrog'i
berilmasa muvaffaqiyatsiz bo'ladi

Deno standart JavaScript brauzerlaridan chetlanmaslik uchun ehtiyotkorlik bilan
ish tutadi. Albatta, har bir brauzer API Deno uchun muhim emas, lekin ular
qaerda bo'lsa, Deno standartdan chetga chiqmaydi.

## Birinchi darajali TypeScript Qo'llab Quvvatlash

Deno-ni muammoning keng doirasi: kichik bir satrli skriptlardan tortib, murakkab
server tomoni biznes mantig'iga qadar qo'llanishini istaymiz. Dasturlar tobora
murakkablashgani sayin, ba'zi turdagi tekshirish usuliga ega bo'lish tobora
muhim ahamiyat kasb etmoqda. TypeScript - bu JavaScript tilining kengaytmasi
bo'lib, foydalanuvchilarga ixtiyoriy turdagi ma'lumotlarni taqdim etish
imkoniyatini beradi.

Deno TypeScript-ni qo'shimcha vositalarsiz qo'llab-quvvatlaydi. Ish vaqti
TypeScript yordamida tuzilgan. deno typesBuyruq deno tomonidan taqdim har bir
narsani turi deklaratsiyalarini taqdim etadi. Denoning standart modullari
barchasi TypeScript-da yozilgan.

## "Promise" lar har doim tayyor

Tugun JavaScript-da va'da yoki asinc / kutish tushunchalariga ega bo'lishdan
oldin yaratilgan. Node-ning va'dalar bo'yicha hamkori - bu EventEmitter bo'lib,
u muhim API-lar asosan soket va HTTP-ga asoslangan. Asinx / kutishning ergonomik
afzalliklarini chetga surib, EventEmitter modelida orqa bosim bilan bog'liq
muammolar mavjud. Masalan, TCP rozetkasini oling. Soket kiruvchi paketlarni
olganda "ma'lumot" hodisalarini chiqaradi. Ushbu "ma'lumotlar" chaqiriqlari
aniqlanmagan holda chiqariladi va bu jarayonni voqealar bilan to'ldiradi. Node
yangi voqea- hodisalarni qabul qilishni davom ettirayotganligi sababli, TCP-ning
rozetkasida tegishli orqa bosim yo'q, masofadan yuboruvchi server haddan
tashqari yuklanganligi haqida ma'lumotga ega emas va ma'lumotlarni yuborishni
davom ettiradi. Ushbu muammoni yumshatish uchun `pause()` usuli qo'shildi. Bu
muammoni hal qilishi mumkin, ammo qo'shimcha kodni talab qildi; suv toshqini
muammosi faqat jarayon juda band bo'lganida o'zini namoyon qilganligi sababli,
ko'plab "Node" dasturlari ma'lumotlar bilan to'ldirilishi mumkin. Natijada yomon
quyruq kechikishiga ega tizim.

Denoda, rozetkalar hali ham sinxrondir, ammo yangi ma'lumotlarni olish
foydalanuvchilardan aniq talab qiladi `read()`. Qabul qilish rozetkasini to'g'ri
tuzish uchun qo'shimcha pauza majburiy qatlami va'dalarga tubdan bog'langan -
biz bu bog'lanishlarni "op" deb nomlaymiz. Denodagi barcha qo'ng'iroqlar
qaysidir shaklda yoki boshqasi va'dalardan kelib chiqadi.

Rustning "Fyuchers" deb nomlangan va'da qilingan mavhumligi bor. "Op"
abstraktsiyasi orqali Deno kelajakdagi Rustga asoslangan API-larni JavaScript
va'dalariga bog'lashni osonlashtiradi.

## Rust API lari

Biz etkazib beradigan asosiy tarkibiy qism Deno buyruq satri interfeysi (CLI).
CLI - bu bugungi kunda 1.0 versiyasidagi narsa. Ammo Deno monolit dastur emas,
lekin turli tabaqalarda birlashishga imkon beradigan Rust qutilari to'plami
sifatida yaratilgan.

[Deno_core](https://crates.io/crates/deno_core) yashik deno juda yalang'och
suyaklari versiyasi. Bu TypeScript-ga va [Tokio](https://tokio.rs/)-ga bog'liq
emas . Bu shunchaki bizning Op va Resurs infratuzilmani ta'minlaydi. Ya'ni, bu
JavaScript istiqbollarini bashorat qilishning uyushgan usulini ta'minlaydi.
Albatta, CLI butunlay deno_core tepasida qurilgan.

[Rusty_v8](https://crates.io/crates/rusty_v8) yashik V8 ning C ++ API uchun
yuqori sifatli Rust posilkalar beradi. API asl C ++ API bilan iloji boricha
yaqinlashishga harakat qiladi. Bu nolga teng bog'lovchi vositadir - Rustga
duchor bo'lgan ob'ektlar C ++ da siz boshqaradigan ob'ektdir. (Masalan, Rust V8
bog'lovchilarining oldingi urinishlari Doimiy tutqichlardan foydalanishga majbur
qildi.) Sandiq Github Actions CI-da qurilgan ikkiliklarni taqdim etadi, ammo
foydalanuvchilarga V8-ni noldan kompilyatsiya qilish va uning ko'p tuzilish
konfiguratsiyasini sozlash imkonini beradi. Barcha V8 manba kodi sandiqning
o'zida taqsimlanadi. Va nihoyat rusty_v8 xavfsiz interfeys bo'lishga harakat
qilmoqda. Bu hali 100% xavfsiz emas, lekin biz yaqinlashmoqdamiz. VM bilan V8
kabi xavfsiz tarzda o'zaro bog'lanish juda ajoyib va ​​bizga Denoning o'zida
ko'plab qiyinchiliklarni aniqlashga imkon berdi.

## Barqarorlik

Denoda barqaror API-ni saqlashga va'da beramiz. Deno juda ko'p interfeys va
tarkibiy qismlarga ega, shuning uchun biz "barqaror" degani nimani anglatishini
oshkor qilishimiz kerak. Biz operatsion tizim bilan o'zaro ishlash uchun kashf
qilgan JavaScript API-larning barchasi "Deno" nomlari bo'sh joyida (masalan
`Deno.open()`) topilgan. Bular yaxshilab o'rganib chiqilgan va biz ularga orqaga
qarab mos kelmaydigan o'zgarishlar kiritmaymiz.

Barqarorlashtirishga hali tayyor bo'lmagan barcha funktsiyalar `--unstable`
buyruq satri bayrog'i orqasida yashiringan. Bu
[yerda](https://doc.deno.land/https/raw.githubusercontent.com/denoland/deno/master/cli/js/lib.deno.unstable.d.ts)
noturg'un interfeyslarga oid hujjatlarni ko'rishingiz mumkin. Keyingi nashrlarda
ushbu APIlarning ba'zilari barqarorlashadi.

Global nomlar maydonida siz boshqa ob'ektlarning barcha turlarini topishingiz
mumkin (masalan `setTimeout()` va `fetch()`). Biz ushbu interfeyslarni
brauzerdagi interfeys bilan bir xil saqlashga harakat qildik; ammo biz beixtiyor
nomuvofiqliklarni aniqlasak, tuzatishlar kiritamiz. Brauzer standartlari bu
interfeyslarni aniqlaydi, biz emas. Biz tomonidan kiritilgan har qanday
tuzatishlar interfeysdagi o'zgarishlar emas, balki xatolarni tuzatishdir. Agar
brauzerning standart API-si bilan mos kelmasa, mos kelmaslik katta versiyadan
oldin tuzatilishi mumkin.

Deno shuningdek, ko'plab Rust API-larga ega, ya'ni deno_core va rusty_v8
qutilari. Ushbu API-larning hech biri hozircha 1.0 da emas. Biz ularni
takrorlashni davom ettiramiz.

## Cheklovlar

Deno-ning Node vilkasi emasligini tushunish muhim - bu mutlaqo yangi dastur.
Deno atigi ikki yil davomida rivojlanishda edi, Node esa o'n yildan ko'proq vaqt
davomida ishlab chiqilgan. Denoga bo'lgan qiziqish miqdorini hisobga olgan
holda, biz uning rivojlanishini va etukligini davom ettirishini kutamiz.

Ba'zi dasturlar uchun Deno bugungi kunda yaxshi tanlov bo'lishi mumkin,
boshqalari uchun hali. Bu talablarga bog'liq bo'ladi. Odamlarga Deno-dan
foydalanishni ko'rib chiqishda ma'lumotli qarorlar qabul qilishlariga yordam
berish uchun biz ushbu cheklovlar haqida oshkora bo'lishni xohlaymiz.

### Moslik

Afsuski, ko'p foydalanuvchilar mavjud JavaScript vositalari bilan mos
kelmaslikning asabiy etishmasligini topadilar. Deno umuman Node (NPM)
paketlariga mos kelmaydi. Https://deno.uz/std/node/ saytida yangi uyg'unlik
qatlami qurilmoqda, ammo u hali to'liq emas.

Deno modul tizimini soddalashtirishga qattiq yondashgan bo'lsa ham, oxir-oqibat
Deno va Node o'xshash maqsadlarga ega bo'lgan juda o'xshash tizimlardir. Vaqt
o'tishi bilan biz Deno-dan tashqarida ko'proq va ko'proq "Node" dasturlarini
ishga tushirishiga umid qilamiz.

### HTTP Server ko'rsatkichlari

Biz Denoning HTTP serverining ishlashini doimiy ravishda kuzatib boramiz. Salom
dunyo Deno HTTP serveri sekundiga 25k so'rovni bajaradi, maksimal kutish vaqti
1,3 millisekund. Taqqoslanadigan Node dasturi sekundiga 34 k / s so'rovni amalga
oshiradi, bunda 2 va 300 millisekund oralig'ida eng yuqori maksimal kutish vaqti
mavjud.

Denoning HTTP serveri TCP soketlarining tepasida TypeScript-da amalga
oshiriladi. Node-ning HTTP serveri C-da yozilgan va JavaScript-ga yuqori
darajadagi bog'lanish sifatida taqdim etilgan. Biz mahalliy HTTP server
ulanishlarini Deno-ga qo'shish taklifiga qarshi turdik, chunki biz TCP soket
qatlamini va umuman interfeysni optimallashtirmoqchimiz.

Deno - bu to'g'ri asinxron server va ko'p sonli maqsadlarda soniyasiga 25
kronlik so'rovlar etarli. (Agar shunday bo'lmasa, ehtimol JavaScript-ning eng
yaxshi tanlovi emas.) Bundan tashqari, biz Deno odatda har xil va'dalarni
ishlatganligi sababli yaxshiroq dumni ushlab turishini kutmoqdamiz (yuqorida
muhokama qilingan). Bularning barchasi, biz tizimda ko'proq yutuqlar borligiga
ishonamiz va kelgusi nashrlarda ham bunga erishamiz deb umid qilamiz.

### TSC Bottleneck

Ichki Deno Microsoft-ning TypeScript kompilyatoridan turlarni tekshirish va
JavaScript-ni ishlab chiqarish uchun foydalanadi. Javobni tahlil qilish uchun V8
ni olish vaqtiga qaraganda, u juda sekin. Loyihaning boshida biz "V8 oniy
rasmlari" bu erda sezilarli yaxshilanishlarni ta'minlaydi deb umid qilgan edik.
Suratlar tez yordam berdi, ammo bu hali ham qoniqarli emas. Biz bu erda mavjud
TypeScript kompilyatori ustida yaxshilanishlarni amalga oshirishimiz mumkin, deb
o'ylaymiz, ammo oxirida turni tekshirishni Rustda amalga oshirish kerakligi
aniq. Bu katta tashabbus bo'ladi va yaqin orada bo'lmaydi; ammo bu ishlab
chiquvchilar boshidan kechirgan tanqidiy yo'lda ishlash samaradorligini oshirish
tartibini ta'minlaydi. TSC Rustga yuborilishi kerak. Agar siz ushbu muammo
bo'yicha hamkorlik qilishni xohlasangiz, iltimos, bog'laning.

### Plugins / Kengaytmalar

Bizda Deno ish vaqtini odatiy operatsiyalar bilan uzaytirish uchun yangi plagin
tizimi mavjud. Biroq, ushbu interfeys hali ishlab chiqilmoqda va barqaror emas
deb belgilangan. Shu sababli, mahalliy tizimlarga Deno tomonidan taqdim
etilgandan tashqari kirish qiyin.

### Minnatdorchilik

Ushbu nashrni amalga oshirishga yordam bergan ko'plab hissa qo'shuvchilarga
katta rahmat. Ayniqsa: Tizimning ko'plab qismlarida, shu jumladan (lekin
cheklanmagan) TypeScript kompilyator xosti, deno_typescript, deno to'plami, deno
o'rnatish, deno turlari, oqimlarni amalga oshirishda katta qo'li bo'lgan
@kitsonk. @kevinkassimo loyihaning butun tarixi davomida ko'plab sonli xatolarni
tuzatishga hissa qo'shdi. Uning hissalari orasida taymer tizimi, TTY
integratsiyasi, yordam xizmati mavjud. Deno.makeTempFile, Deno.kill,
Deno.hostname, Deno.realPath, std / tugunlarning talablari,
windows.queueMircotask va REPL tarixi. U shuningdek logotipni yaratdi. @ kt3k
uzluksiz qiyoslash tizimini (deyarli har bir asosiy refaktorda muhim rol
o'ynagan), signallarni qayta ishlovchi dasturlarni, ruxsatnomalar API-ni va
ko'plab muhim xatolarni tuzatishni amalga oshirdi. @nayeemrmn Denoning ko'p
qismlarida xatolarni tuzatishga yordam beradi, eng muhimi u stack izlari va
xatolar haqida hisobotni yaxshilagan va 1.0 uchun API-larni barqarorlashtirishda
kuchli yordam bergan. @justjavac deno API-larini veb-standartlarga moslashtirish
uchun ko'plab kichik, ammo muhim tuzatishlar kiritdi va eng mashhuri VS Code
deno plaginini yozdi. @zekth std / kodlash / csv, std / kodlash / toml, std /
http / cookies va boshqa ko'plab tuzatishlarni o'z ichiga olgan std-ga ko'plab
modullarni qo'shdi. @axetroyyoqimli narsalar bilan bog'liq barcha narsalarda
yordam berdi, ko'plab xatolarni tuzatdi va VS Code plaginini qo'llab-quvvatladi.
@ afinch7 plagin tizimini joriy qildi. @keroxp veb-server serverini amalga
oshirdi va ko'plab xatolarni tuzatdi. @cknight ko'plab hujjatlarni taqdim etdi
va std / node polyfills. @lucacasonato deyarli butun deno.uz veb-saytini qurdi.
@hashrock doc.deno.land saytiga yuklash sahifasi va ushbu sahifaning yuqori
qismidagi yoqimli rasm kabi juda ko'p ajoyib ishlarni amalga oshirdi!
